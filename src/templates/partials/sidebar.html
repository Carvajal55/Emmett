{% load static %}

<!-- Sidebar Start -->
<aside class="left-sidebar" id="sidebar">
  <!-- Sidebar scroll-->
  <div>
    <!-- BotÃ³n de Toggle siempre visible -->
    <div class="d-flex justify-content-end p-2">
      <button class="btn btn-toggle" id="toggleSidebar">
        <i class="ti ti-menu fs-5"></i>
      </button>
    </div>
    
    <!-- Logo de la Marca -->
    <div class="brand-logo d-flex align-items-center justify-content-center">
      <a href="{% url 'index' %}" class="text-nowrap logo-img text-center">
        <img src="{% static 'images/logos/emmett_logo_azul.png' %}" class="dark-logo" width="180" alt="Logo Emmett" />
        <img src="{% static 'images/logos/emmett_logo_azul.png' %}" class="light-logo" width="180" alt="Logo Emmett" />
      </a>
    </div>

    <!-- Sidebar navigation-->
    <nav class="sidebar-nav scroll-sidebar" data-simplebar>
      <ul id="sidebarnav">
        
        <!-- Opciones exclusivas para ADMIN y BODEGA -->
        {% if request.user.usuario.rol == 'ADMIN' or request.user.usuario.rol == 'BODEGA' %}
        
        <!-- Ingresar Documento -->
        <li class="sidebar-item">
          <a class="sidebar-link" href="{% url 'ingresar_documentos' %}">
            <span><i class="ti ti-plus"></i></span>
            <span class="hide-menu">Ingresar Documento</span>
          </a>
        </li>

        <!-- Autorizar Documento -->
        <li class="sidebar-item">
          <a class="sidebar-link" href="{% url 'recepciones_pendientes' %}">
            <span><i class="ti ti-file-check"></i></span>
            <span class="hide-menu">Autorizar Documento</span>
          </a>
        </li>

        <!-- Imprimir Etiquetas -->
        <li class="sidebar-item">
          <a class="sidebar-link" href="{% url 'recepciones_aceptadas' %}">
            <span><i class="ti ti-printer"></i></span>
            <span class="hide-menu">Imprimir Etiquetas</span>
          </a>
        </li>

        <!-- Cuadrar Sector -->
        <li class="sidebar-item">
          <a class="sidebar-link" href="{% url 'cuadrar_sector' %}">
            <span><i class="ti ti-plus"></i></span>
            <span class="hide-menu">Cuadrar Sector</span>
          </a>
        </li>

        <!-- Crear Sectores -->
        <li class="sidebar-item">
          <a class="sidebar-link" href="{% url 'crear_sector' %}">
            <span><i class="ti ti-plus"></i></span>
            <span class="hide-menu">Crear Sectores</span>
          </a>
        </li>
        
        {% endif %}

        <!-- Agregar Productos a Sector - Permitido para ADMIN, BODEGA y VENTAS -->
        {% if request.user.usuario.rol in 'ADMIN' or request.user.usuario.rol == 'BODEGA' or request.user.usuario.rol == 'VENTAS' %}
        <li class="sidebar-item">
          <a class="sidebar-link" href="{% url 'anadir_psector' %}">
            <span><i class="ti ti-plus"></i></span>
            <span class="hide-menu">Agregar Productos a Sector</span>
          </a>
        </li>
        {% endif %}

        <!-- Buscar Productos - Permitido para ADMIN, VENTAS y BODEGA -->
        {% if request.user.usuario.rol in 'ADMIN' or request.user.usuario.rol == 'VENTAS' or request.user.usuario.rol == 'BODEGA' %}
        <li class="sidebar-item">
          <a class="sidebar-link" href="{% url 'buscar_productos' %}">
            <span><i class="ti ti-search"></i></span>
            <span class="hide-menu">Buscar Productos</span>
          </a>
        </li>
        {% endif %}

        <!-- Despachar Productos - Permitido para ADMIN, VENTAS y BODEGA -->
        {% if request.user.usuario.rol in 'ADMIN' or request.user.usuario.rol == 'VENTAS' or request.user.usuario.rol == 'BODEGA' %}
        <li class="sidebar-item">
          <a class="sidebar-link" href="{% url 'despacho' %}">
            <span><i class="ti ti-truck"></i></span>
            <span class="hide-menu">Despachar Productos</span>
          </a>
        </li>
        {% endif %}

        <!-- Crear Usuarios - Solo para ADMIN -->
        {% if request.user.usuario.rol == 'ADMIN' %}
        <li class="sidebar-item">
          <a class="sidebar-link" href="{% url 'crear_usuarios_view' %}">
            <span><i class="ti ti-user-plus"></i></span>
            <span class="hide-menu">Crear Usuarios</span>
          </a>
        </li>
        {% endif %}
        
      </ul>
    </nav>
    <!-- End Sidebar navigation -->
  </div>
  <!-- End Sidebar scroll-->
</aside>
<!-- Sidebar End -->
